<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>瀑布流</title>
    <style>
    .grid {
      font-size: 0;
    }
    .grid-item {
        width: 200px;
        float: left;
    }
    </style>
    <script src="js/jquery-3.1.1.js"></script>
    <script src="js/masonry.pkgd.min.js"></script>
    <script>
      // 利用jquery实现
      $(window).on('load',function() {
        console.log('fully loaded');
        $('.grid').masonry({
          itemSelector: '.grid-item',
          columnWidth: 200
        });
      });

      // 原生js实现
      // document.onreadystatechange = function () {
      //   if (document.readyState === "complete") {
      //     console.log('fully loaded');
      //     $('.grid').masonry({
      //       itemSelector: '.grid-item',
      //       columnWidth: 200
      //     });
      //   }
      // };
    </script>
</head>

<body>
    <div>
        <ul class="grid">
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=1"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=10"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=100"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=1000"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=10000"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=11"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=111"></li>
            <li class="grid-item"><img src="https://placem.at/places?w=200&random=1111"></li>
        </ul>
    </div>
<!--     <script>
      // 为每一张图片都注册了加载事件处理程序，所以
      // 每当有一张图片加载完成，就会进行一次瀑布流布局
      $('img').on('load', function () {
        console.log('fully loaded');
        $('.grid').masonry({
          // options
          itemSelector: '.grid-item',
          columnWidth: 200
        });
      });
    </script> -->
</body>

</html>
